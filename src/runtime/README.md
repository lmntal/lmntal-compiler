# lmntal-comiler/src/runtime
runtimeは旧lmntal-compilerにおける実行時処理系にあたり, ほとんどが過去の遺物である.
現在使われているものの中で特に重要(システムの根幹にあたる)のはFrontEnd.java(処理系全体のエントリーポイント)およびEnv.java(主にオプションの保持および出力メソッド)である.

## FrontEnd.java
mainメソッドが本処理系のエントリーポイント

### main
processOptionsメソッドでオプションをEnvオブジェクトに登録し, runメソッドでそのオプションを前提とする一連の処理を開始する

### run
runメソッドが2つあるのはファイル名が複数与えられた場合にそれらの内容をくっつけるため
ソースプログラムに対し,
1. LMNparserオブジェクトのparseメソッドから字句解析, 構文解析処理の開始
2. RulesetCompilerオブジェクトのprocessMembraneメソッドからコンパイル(膜内のルールの抽象構文木->中間命令列への変換)処理の開始
3. showILメソッドでコンパイル済中間命令列の出力処理の開始
(--pp0オプションや--compile-ruleオプション, --dump-jsonオプションについては省略)

## Env.java
主にコンパイラの離れた場所(複数段階の関数呼び出しを隔てる)で通信したい場合にここを使う
初めにFrontEndオブジェクトのprocessOptionsメソッドにおいて必要な情報をここに保存している
オプションや, ソースプログラムの文字列や引数の文字列などもここに保存してある
また, デバッグプリントや合成データのプリントを含む出力系のメソッドを定義している

